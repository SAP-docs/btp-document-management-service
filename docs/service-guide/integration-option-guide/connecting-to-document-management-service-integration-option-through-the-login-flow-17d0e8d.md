<!-- loio17d0e8dcc55e43e69b22b49190c0086f -->

# Connecting to Document Management Service, Integration Option Through the Login Flow

All documents and folders created with the login user of the leading application is attached to the login user of the Document Management Service. To allow login user flow to work, leading application needs to propagate the user's JWT token to the Document Management Service.



It's possible to achieve the login user flow in 2 different ways:

-   Reuse service

-   Token exchange




<a name="loio17d0e8dcc55e43e69b22b49190c0086f__section_ypr_vl4_3rb"/>

## Propagating a User JWT Via the Reuse Service

The leading application needs to add the Document Management Service route as a service end point to the `xs-app.json` file so that user JWT can be propagated via reuse service.

> ### Sample Code:  
> ```json
> 
> {
>   routes: [
>     ...
>     {
>       "source": "^/api/(.*)$",
>       "target": "$1",
>       "authenticationType": "xsuaa",
>       "service": "com.sap.ecm.reuse",
>       "endpoint": "ecmservice"
>     },
>     ...
>   ]
> }
> 
> ```

> ### Note:  
> A similar approach can be used in scenarios where Document Management Service managed multitenancy is being used. For more information, see [Multi-Tenancy with Document Management Service](multi-tenancy-with-document-management-service-0f6dd1b.md).

For more information about application router supports integration with Business Service, see [Integration with Business Services](https://help.sap.com/viewer/65de2977205c403bbc107264b8eccf4b/Cloud/en-US/f6337cd6065a42b59579c069256072ec.html).



<a name="loio17d0e8dcc55e43e69b22b49190c0086f__section_etn_x53_jrb"/>

## Propagating a User JWT Using the Token Exchange

The scenario can be used for both Document Management Service managed multitenancy and application-managed multitenancy.

In UAA, the user JWT token generated by one of the clients \(the leading XSUAA application\) can be exchanged with another UAA client \(the Document Management Service\) so that user information can be propagated.

The process consists of two steps:

-   Generating a refresh token through token exchange. For more information, see [User Token Grant](https://docs.cloudfoundry.org/api/uaa/version/75.2.0/index.html#user-token-grant).

-   Generating new JWTs with refresh tokens. For more information, see [Refresh Token](https://docs.cloudfoundry.org/api/uaa/version/75.2.0/index.html#refresh-token).


